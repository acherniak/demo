<mat-toolbar color="primary">
	<button mat-icon-button [matMenuTriggerFor]="mainMenu" (menuOpened)="sidenav.close()"><mat-icon>menu</mat-icon></button>
	<mat-menu #mainMenu="matMenu">
		<button mat-menu-item (click)="init()">Refresh</button>
		<button mat-menu-item [matMenuTriggerFor]="addMenu">Add</button>
		<mat-menu #addMenu="matMenu">
			<button mat-menu-item (click)="add(n)" *ngFor="let n of [1,3,10,30,100]">{{n}}</button>
		</mat-menu>
		<button mat-menu-item [matMenuTriggerFor]="delMenu">Clear</button>
		<mat-menu #delMenu="matMenu">
			<button mat-menu-item (click)="clear()">Yes, DELETE All</button>
		</mat-menu>
		<mat-divider></mat-divider>
		<button mat-menu-item (click)="api.toast('Are you sure?')">Logout</button>
	</mat-menu><h3>{{title}}</h3>
	<span style="flex:1"></span>
</mat-toolbar>
<mat-sidenav-container>
	<mat-sidenav position="end" style="width:60%;padding:10px;display: flex;flex-direction: column;">
		<div style="display:flex"><h1 style="flex:1">{{curRow?.name}}</h1><a mat-icon-button (click)="delete(curRow?.id)"><mat-icon>delete</mat-icon></a></div>
		<div style="display: flex;flex-direction: column;">
			<mat-form-field *ngFor="let fld of ['adr', 'phone','email','dob'];index as n">
				<mat-label>{{['Address','Phone','Email','Birthday'][n]}}</mat-label>
				<input matInput [(ngModel)]="curRow[fld]">
			</mat-form-field>
		</div>
	</mat-sidenav>
	<mat-sidenav-content>
		<mat-paginator pageSize="20" [pageSizeOptions]="[5, 10, 20, 50]" showFirstLastButtons></mat-paginator>
		<table mat-table [dataSource]="list" matSort style="width:100%">
			<ng-container [matColumnDef]="col" *ngFor="let col of displCols;index as n">
				<th mat-header-cell *matHeaderCellDef mat-sort-header>{{['ID','Name','Birthday','Email','Phone','Address'][n]}}</th>
				<td mat-cell *matCellDef="let row">{{row[col]}}</td>
			</ng-container>
			<tr mat-header-row *matHeaderRowDef="displCols"></tr>
			<tr mat-row *matRowDef="let row; columns: displCols;" (click)="selRow(row)"></tr>
		</table>
	</mat-sidenav-content>
</mat-sidenav-container>