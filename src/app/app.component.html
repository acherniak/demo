<mat-sidenav-container>
	<mat-sidenav position="end" style="width:60%">
		<mat-card style="display: flex;flex-direction: column;">
			<div style="display:flex"><h1 style="flex:1">{{curRow?.name}}</h1>
				<mat-icon (click)="delete(curRow._id)" [matTooltip]="'id: '+curRow._id" style="cursor: pointer;" color="warn">delete</mat-icon>
			</div>
			<div style="display: flex;flex-direction: column;">
				<mat-form-field *ngFor="let fld of ['name','dob','adr', 'phone','email'];index as n">
					<mat-label>{{['Name','Birthday','Address','Phone','Email'][n]}}</mat-label>
					<input matInput [(ngModel)]="curRow[fld]"><mat-icon matSuffix color="primary">{{['person','cake','contact_mail','phone','email'][n]}}</mat-icon>
				</mat-form-field>
			</div>
		</mat-card>
	</mat-sidenav>
	<mat-sidenav-content>
		<div style="display: flex;flex-direction: column;">
			<mat-toolbar color="primary">
				<button mat-icon-button [matMenuTriggerFor]="mainMenu"><mat-icon>menu</mat-icon></button>
				<mat-menu #mainMenu="matMenu">
					<button mat-menu-item (click)="init()">Refresh</button>
					<a mat-menu-item [matMenuTriggerFor]="tblMenu">DB</a>
					<mat-menu #tblMenu="matMenu">
						<a mat-menu-item (click)="viewSql()">staff</a>
						<button mat-menu-item [matMenuTriggerFor]="addMenu">Add</button>
						<mat-menu #addMenu="matMenu">
							<button mat-menu-item (click)="add(n)" *ngFor="let n of [1,3,10,30,100,300,1000]">{{n}}</button>
						</mat-menu>
							<button mat-menu-item [matMenuTriggerFor]="delMenu">Clear</button>
						<mat-menu #delMenu="matMenu"><button mat-menu-item (click)="clear()">Yes, DELETE All</button></mat-menu>
					</mat-menu>
					<mat-divider></mat-divider>
					<button mat-menu-item (click)="api.toast('Are you sure?')">Logout</button>
				</mat-menu><h3>{{title}}</h3>
				<span style="flex:1"></span>
				<mat-paginator pageSize="20" [pageSizeOptions]="[5, 10, 20, 50]" showFirstLastButtons color="primary"></mat-paginator>
			</mat-toolbar>
			<table mat-table [dataSource]="list" matSort style="width:100%;flex:1">
					<ng-container [matColumnDef]="col" *ngFor="let col of displCols;index as n">
						<th mat-header-cell *matHeaderCellDef mat-sort-header>{{['ID','Name','Birthday','Email','Phone','Address'][n]}}</th>
						<td mat-cell *matCellDef="let row">{{row[col]}}</td>
					</ng-container>
					<tr mat-header-row *matHeaderRowDef="displCols"></tr>
					<tr mat-row *matRowDef="let row; columns: displCols;" (click)="selRow(row)"></tr>
			</table>
		</div>
	</mat-sidenav-content>
</mat-sidenav-container>